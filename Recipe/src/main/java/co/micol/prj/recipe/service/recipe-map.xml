<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.micol.prj.recipe.service.RecipeMapper">
	<resultMap type="co.micol.prj.recipe.service.RecipeVO"
		id="recipeMap">

		<id property="recipeSeq" column="r_seq" />
		<result property="recipeName" column="r_name" />
		<result property="recipeWay" column="r_way" />
		<result property="recipeKind" column="r_kind" />
		<result property="recipeWgt" column="r_wgt" />
		<result property="recipeEng" column="r_eng" />
		<result property="recipeCar" column="r_car" />
		<result property="recipePro" column="r_pro" />
		<result property="recipeFat" column="r_fat" />
		<result property="recipeNa" column="r_na" />
		<result property="recipeTag" column="r_tag" />
		<result property="recipeImageSm" column="r_image_sm" />
		<result property="recipeImageLg" column="r_image_lg" />
		<result property="recipeParts" column="r_parts" />
		<result property="userNo" column="user_no" />
		<result property="recipeDate" column="rdate" />
		<result property="recipeHit" column="r_hit" />
		<result property="userAlias" column="user_alias" />

		<!-- 요리과정 -->
		<result property="manual1" column="manual01" />
		<result property="manualImage1" column="manual_Img01" />
		<result property="manual2" column="manual02" />
		<result property="manualImage2" column="manual_Img02" />
		<result property="manual3" column="manual03" />
		<result property="manualImage3" column="manual_Img03" />
		<result property="manual4" column="manual04" />
		<result property="manualImage4" column="manual_Img04" />
		<result property="manual5" column="manual05" />
		<result property="manualImage5" column="manual_Img05" />
		<result property="manual6" column="manual06" />
		<result property="manualImage6" column="manual_Img06" />
		<result property="manual7" column="manual07" />
		<result property="manualImage7" column="manual_Img07" />
		<result property="manual8" column="manual08" />
		<result property="manualImage8" column="manual_Img08" />
		<result property="manual9" column="manual09" />
		<result property="manualImage9" column="manual_Img09" />
		<result property="manual10" column="manual10" />
		<result property="manualImage10" column="manual_Img10" />
		<result property="manual11" column="manual11" />
		<result property="manualImage11" column="manual_Img11" />
		<result property="manual12" column="manual12" />
		<result property="manualImage12" column="manual_Img12" />
		<result property="manual13" column="manual13" />
		<result property="manualImage13" column="manual_Img13" />
		<result property="manual14" column="manual14" />
		<result property="manualImage14" column="manual_Img14" />
		<result property="manual15" column="manual15" />
		<result property="manualImage15" column="manual_Img15" />
		<result property="manual16" column="manual16" />
		<result property="manualImage16" column="manual_Img16" />
		<result property="manual17" column="manual17" />
		<result property="manualImage17" column="manual_Img17" />
		<result property="manual18" column="manual18" />
		<result property="manualImage18" column="manual_Img18" />
		<result property="manual19" column="manual19" />
		<result property="manualImage19" column="manual_Img19" />
		<result property="manual20" column="manual20" />
		<result property="manualImage20" column="manual_Img20" />

	</resultMap>


	<!-- 레시피 전체 조회 -->
	<select id="selectRecipeList" resultMap="recipeMap">
		SELECT R.*, U.USER_ALIAS
		FROM RECIPE R, USERS U
		WHERE U.USER_NO = R.USER_NO
		ORDER BY R_HIT DESC
	</select>



	<!-- 레시피 상세 과정 조회 -->
	<select id="selectRecipe" resultMap="recipeMap"
		parameterType="co.micol.prj.recipe.service.RecipeVO">
		SELECT * FROM RECIPE WHERE R_SEQ = #{recipeSeq}
	</select>

	<!-- 레시피 클릭하면 조회수 업데이트 -->
	<update id="updateHit" parameterType="int">
		UPDATE RECIPE SET R_HIT =
		R_HIT + 1 WHERE R_SEQ = #{recipeSeq}
	</update>




</mapper>